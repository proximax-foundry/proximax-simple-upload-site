<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition template="/template/common.xhtml">
            <ui:define name="content">
                <br/>
                <p:fieldset legend="Public Upload with Password" style="margin-bottom:20px">
                   <h:panelGrid columns="2" cellpadding="5">
                       <p:graphicImage name="demo/images/godfather/godfather1.jpg" />
                       <p:outputLabel>NEM Testnet Public Key used: 36e6fbc1cc5c3ef49d313721650b98d7d7d126a4f731d70071f4f3b4798cdc85</p:outputLabel>
                   <br/>
                   <p:outputLabel style="color:red;">All files uploaded here will be shared across the ProximaX/IPFS public network but will be protected with a password of your choice. ProximaX does not store or record/store your assigned password. Your files will not be removed in anyway.</p:outputLabel>  
                   <br/>
                   <p:outputLabel style="color:black;"><b>To access the file, do a POST request passing the base64 encoded string of your password at: https://testnet.gateway.proximax.io/xpxfs/{nemHash}.</b></p:outputLabel>  
                   </h:panelGrid>

                       <h:form enctype="multipart/form-data" style="width:100%;">
                           <p:growl id="msg"  sticky="true"  ></p:growl>
                           <p:fileUpload value="#{fileUploadWithPasswordBean.file}" skinSimple="true"
                                                           mode="advanced" multiple="true"
                                                           sizeLimit="10000000"
                                                           fileUploadListener="#{fileUploadWithPasswordBean.fileUploadListener}" 
                                                           update="tb" dragDropSupport="true">

                           </p:fileUpload>
                           <br/>
                           <p:outputLabel>Password: </p:outputLabel>
                           <p:inputText value="#{fileUploadWithPasswordBean.password}" required="true"></p:inputText>
                       </h:form>
                    <br/>
                    <p:outputLabel style="color:black;"><b>Please wait for the NEM Transaction to be confirmed.</b></p:outputLabel>  
                    <p:dataTable id="tb" var="file" value="#{fileUploadWithPasswordBean.listOfFiles}">
                          <p:column headerText="Filename">
                              <h:outputText value="#{file.fileName}" />
                          </p:column>
                          <p:column headerText="Link to ProximaX Gateway">
                              <a href="#{file.fileLink}" target="_blank">#{file.fileLink}</a>
                          </p:column>
                         <p:column headerText="Link to NEM Txn">
                             <a href="#{file.nemLink}" target="_blank">#{file.nemLink}</a>

                          </p:column>
                      </p:dataTable>

                     </p:fieldset>
                
            </ui:define>
        </ui:composition>
    </h:body>
</html>